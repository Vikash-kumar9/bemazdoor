<!DOCTYPE html>
<html lang="en">

<head>
    <title>
        <%= title %>
    </title>
    <meta charset="utf-8">
    <meta name="description" content="Find skilled workers for your tasks or become a worker at Mazdoor. Connect with a diverse range of service providers. Stringing together users and workers for seamless employment opportunities.">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="./images/gomazdoor.png" type="image/x-icon">
  <link rel="shortcut icon" href="./images/gomazdoor.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/your_actual_font_awesome_code.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../stylesheets/pin1.css" class="stylsheet">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
</head>

<body>
  <div>
    <nav>
      <div class="left">Gomazdoor</div>
      <div class="right">
        <ul class="navbar">
          <li><a target="_blank" href="/">Home</a></li>
          <li><a target="_blank" href="/mazdoor">Mazdoor</a></li>
          <li><a target="_blank" href='/Services'>Services</a></li>
          <li><a target="_blank" href="/profile"> Profile</a></li>
          <% if (log) { %>
            <!-- If user is logged in, show logout button -->
            <li><a class='logout' href="/logout">Logout</a></li>
            <% } else { %>
              <!-- If user is not logged in, show login and signup buttons -->
              <li> <a class="signup" href="/signUp"> signUp</a></li>
              <li> <a class="login" href="/login"> Login</a></li>
              <% } %>

        </ul>

        <ul class="sidebar">
          <svg onclick="hidebar()" class="svg" width="50" height="150" viewBox="0 0 100 100">
            <!-- Horizontal line of the cross -->
            <line x1="10" y1="50" x2="90" y2="50" stroke="white" stroke-width="5" />

            <!-- Vertical line of the cross -->
            <line x1="50" y1="10" x2="50" y2="90" stroke="white" stroke-width="5" />
          </svg>

          <li><a target="_blank" href="/">Home</a></li>
          <li><a target="_blank" href="/mazdoor">Mazdoor</a></li>
          <li><a target="_blank" href='/Services'>Services</a></li>
          <li><a target="_blank" href="/profile"> Profile</a></li>
          <% if (log) { %>
            <!-- If user is logged in, show logout button -->
            <li><a class='logout' href="/logout">Logout</a></li>
            <% } else { %>
              <!-- If user is not logged in, show login and signup buttons -->
              <li> <a class="signup" href="/signUp"> signUp</a></li>
              <li> <a class="login" href="/login"> Login</a></li>
              <% } %>



        </ul>           <span onclick="navbar()" class="material-symbols-outlined">
              menu
            </span>
    
            <script>
              function navbar() {
                const sidebar = document.querySelector('.sidebar')
                sidebar.style.display = 'flex'
              }
            </script>
    
            <script>
              function hidebar() {
                const sidebar = document.querySelector('.sidebar')
                sidebar.style.display = 'none'
              }
            </script>
    
          </div>
        </nav>
      </div>

      
      <div class="container">
        <form action="/mazdoorall" method="get">
            <label for="city">Filter by City:</label>
            <!-- Input field for city selection -->
            <input type="text" name="city" placeholder="Enter city">
    <br>
            <label for="type">Filter by Job Type:</label>
            <select name="type">
                <option value="">Select Job Type</option>
                <option value="NormalMazdoor">NormalMazdoor</option>
               
            <option value="driver">driver</option>
            <option value="doctor">doctor</option>
            <option value="mechanic">mechanic</option>
            <option value="teacher">teacher</option>
            <option value="techanician">techanician</option>
            <option value="shopkeeper">shopkeeper</option>
            <option value="farmer">farmer</option>
            <option value="washerman">washerman</option>
            <option value="plumber">plumber</option>
            <option value="painter">painter</option>
            <option value="tution-teacher">tution-teacher</option>
            <option value="tractor-driver">tractor-driver</option>
            <option value="child-keeper">child-keeper</option>
            <option value="carpanter">carpanter</option>
            <option value="cook">cook</option>
            <option value="jcb-operator">jcb-operator</option>
            <option value="crane-operator">crane-operator</option>
            <option value="other">other</option>

                <!-- Add more job types as needed -->
            </select>
    
            <input type="submit" value="Apply Filter">
        </form>
    </div>
    
    <script>
        // Function to remove empty values from the form before submission
        document.querySelector('form[action="/mazdoor"]').addEventListener('submit', function () {
            const cityInput = document.querySelector('input[name="city"]');
            const typeSelect = document.querySelector('select[name="type"]');
    
            // If the city input field is not empty, set the value to be used in the route
            if (cityInput.value.trim() !== '') {
                cityInput.value = cityInput.value.trim().toLowerCase(); // Convert city to lowercase
            }
    
            // If any input field is empty, set its value to an empty string
            if (typeSelect.value === '') {
                typeSelect.value = '';
            }
        });
    </script>
    
   
     
    
    <% mazdoor.forEach(element=> { %>





        <div class="homecards">
            <div class="card cardb mb-3" style="max-width: 540px;">
                <div class="row no-gutters">
                    <div class="col-md-4">
                        <img src="../<%= element.image %>" class="card-img" alt="img">
                    </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <h2 class="card-title">
                                Name: <%= element.username %>
                            </h2>

                            <hr>
                            <h5 class="card-text">
                                phoneNo: <%= element.phoneNumber %>
                            </h5>
                            <hr>
                            <h5 class="card-text">
                                type: <%= element.type%>
                            </h5>
                            <hr>
                            <h5 class="card-text">
                                about: <%= element.about%>
                            </h5>
                            <hr>
                            <h5 class="card-text"><small class="text-muted">
                                    Address: <%= element.address %>
                                </small></h5>
                            <hr>
                            <h5 class="card-text"><small class="text-muted">
                              city: <%= element.city %>
                          </small></h5>
                      <hr>
                      <h5 class="card-text"><small class="text-muted">
                        state: <%= element.state %>
                    </small></h5>
                    <hr>
                            <h5 id='time' class="card-text"><small class="text-muted">
                                    created : <%= moment(element.create).fromNow() %>
                                </small></h5>

                        </div>

                    </div>
                </div>
            </div>
        </div>
        <% }) %>












        <div class="footer">
          <div class="footer1">
            <h5>Content</h5>
            <p><a href="/">Home</a></p>
            <p><a href="/mazdoor">Mazdoor</a></p>
            <p><a href="/Services">service</a></p>
            <p><a href="/profile">Profile</a></p>
          </div>
      
          <div class="footer1">
            <h5>About Application</h5>
            <p><a href="">How application works</a></p>
            <p><a href="">About us</a></p>
            <p><a href="">License</a></p>
      
          </div>
          <hr>
          <div class="container">
            Business Email : moolchandsaini045@gmail.com
          </div>
          <hr>
          <div class="container">
            Copyrights 2024- . All rights reserved. <a href="/privacy" target="_blank">Privacy</a> | <a href="/terms" target="_blank">Terms & conditions</a>
          </div>
      
        </div>
</body>

</html>